!function(e,n){"use strict";var r=function(){return(r=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var u in n=arguments[r])Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u]);return e}).apply(this,arguments)},t=function(e,n,t,u,o){var i,a;if(e.exists)return r({},o?o(e.data(n)):e.data(n),t?((i={})[t]=e.id,i):null,u?((a={})[u]=e.ref,a):null)},u=function(e){return{loading:void 0===e||null===e,value:e}},o=function(e){var t=e?e():void 0,o=n.useReducer(function(e,n){switch(n.type){case"error":return r({},e,{error:n.error,loading:!1,value:void 0});case"reset":return u(n.defaultValue);case"value":return r({},e,{error:void 0,loading:!1,value:n.value});default:return e}},u(t)),i=o[0],a=o[1],s=function(){var n=e?e():void 0;a({type:"reset",defaultValue:n})},c=function(e){a({type:"error",error:e})},f=function(e){a({type:"value",value:e})};return n.useMemo(function(){return{error:i.error,loading:i.loading,reset:s,setError:c,setValue:f,value:i.value}},[i.error,i.loading,s,c,f,i.value])},i=function(e,n){var r=!e&&!n,t=!!e&&!!n&&e.isEqual(n);return r||t},a=function(e,r){return function(e,r,t){var u=n.useRef(e);return n.useEffect(function(){r(e,u.current)||(u.current=e,t&&t())}),u}(e,i,r)},s=function(e,r,t){var u=o(),i=u.error,s=u.loading,c=u.reset,f=u.setError,l=u.setValue,v=u.value,d=a(r,c);n.useEffect(function(){if(d.current){if(e){var n=t&&t.snapshotListenOptions?d.current.onSnapshot(t.snapshotListenOptions,l,f):d.current.onSnapshot(l,f);return function(){n()}}d.current.get(t?t.getOptions:void 0).then(l).catch(f)}else l(void 0)},[d.current]);var p=[v,s,i];return n.useMemo(function(){return p},p)},c=function(e,r,u){var o=u?u.idField:void 0,i=u?u.refField:void 0,a=u?u.snapshotOptions:void 0,c=u?u.transform:void 0,f=s(e,r,u),l=f[0],v=f[1],d=f[2],p=[n.useMemo(function(){return l?l.docs.map(function(e){return t(e,a,o,i,c)}):void 0},[l,a,o,i,c]),v,d];return n.useMemo(function(){return p},p)},f=function(e,r,t){var u=o(),i=u.error,s=u.loading,c=u.reset,f=u.setError,l=u.setValue,v=u.value,d=a(r,c);n.useEffect(function(){if(d.current){if(e){var n=t&&t.snapshotListenOptions?d.current.onSnapshot(t.snapshotListenOptions,l,f):d.current.onSnapshot(l,f);return function(){n()}}d.current.get(t?t.getOptions:void 0).then(l).catch(f)}else l(void 0)},[d.current]);var p=[v,s,i];return n.useMemo(function(){return p},p)},l=function(e,r,u){var o=u?u.idField:void 0,i=u?u.refField:void 0,a=u?u.snapshotOptions:void 0,s=u?u.transform:void 0,c=f(e,r,u),l=c[0],v=c[1],d=c[2],p=[n.useMemo(function(){return l?t(l,a,o,i,s):void 0},[l,a,o,i,s]),v,d];return n.useMemo(function(){return p},p)};e.useCollection=function(e,n){return s(!0,e,n)},e.useCollectionOnce=function(e,n){return s(!1,e,n)},e.useCollectionData=function(e,n){return c(!0,e,n)},e.useCollectionDataOnce=function(e,n){return c(!1,e,n)},e.useDocument=function(e,n){return f(!0,e,n)},e.useDocumentData=function(e,n){return l(!0,e,n)},e.useDocumentOnce=function(e,n){return f(!1,e,n)},e.useDocumentDataOnce=function(e,n){return l(!1,e,n)}}(this["react-firebase-hooks"]=this["react-firebase-hooks"]||{},react);
//# sourceMappingURL=react-firebase-hooks-firestore.js.map
